import{_ as i,c as n,f as a,o as e}from"./app-GLVeLgbA.js";const l={};function p(t,s){return e(),n("div",null,[...s[0]||(s[0]=[a(`<div class="hint-container info"><p class="hint-container-title">相关信息</p><h2 id="🎯-核心原则" tabindex="-1"><a class="header-anchor" href="#🎯-核心原则"><span>🎯 核心原则</span></a></h2><ol><li><strong>主分支保护</strong>：<code>main</code>/<code>develop</code> 分支只接受 Pull Request</li><li><strong>功能隔离</strong>：每个功能/修复都在独立分支开发</li><li><strong>代码审查</strong>：所有变更必须经过 peer review</li><li><strong>持续集成</strong>：自动运行测试和检查</li><li><strong>清晰历史</strong>：保持提交历史的可读性和可追溯性</li></ol></div><h2 id="整体架构" tabindex="-1"><a class="header-anchor" href="#整体架构"><span>整体架构</span></a></h2><p><strong>分支结构</strong></p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-text"><span class="line"><span>主分支 (长期存在):</span></span>
<span class="line"><span>main     - 生产代码，每个提交都是可发布的</span></span>
<span class="line"><span>develop  - 开发主线，集成了所有完成的功能</span></span>
<span class="line"><span></span></span>
<span class="line"><span>支持分支 (临时存在):</span></span>
<span class="line"><span>feature/*  - 功能开发分支</span></span>
<span class="line"><span>release/*  - 版本发布分支  </span></span>
<span class="line"><span>hotfix/*   - 紧急修复分支</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>完整流程：</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>main (生产)</span></span>
<span class="line"><span>    ↑</span></span>
<span class="line"><span>release/* (测试/预发布)</span></span>
<span class="line"><span>    ↑</span></span>
<span class="line"><span>develop (开发集成)  ← 你应该从这里开始！</span></span>
<span class="line"><span>    ↑</span></span>
<span class="line"><span>feature/* (功能分支) ← 你在这里开发</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>环境与分支的对应关系：</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>开发环境 (dev):</span></span>
<span class="line"><span>  分支: develop</span></span>
<span class="line"><span>  自动部署: 每次合并到develop自动部署</span></span>
<span class="line"><span>  用途: 日常开发测试</span></span>
<span class="line"><span></span></span>
<span class="line"><span>测试环境 (test/staging):</span></span>
<span class="line"><span>  分支: release/*</span></span>
<span class="line"><span>  自动部署: 创建release分支时部署</span></span>
<span class="line"><span>  用途: 集成测试、产品验收</span></span>
<span class="line"><span></span></span>
<span class="line"><span>预生产环境 (pre-prod):</span></span>
<span class="line"><span>  分支: main (latest tag)</span></span>
<span class="line"><span>  手动部署: 发布前验证</span></span>
<span class="line"><span>  用途: 生产前最后验证</span></span>
<span class="line"><span></span></span>
<span class="line"><span>生产环境 (prod):</span></span>
<span class="line"><span>  分支: main (特定tag)</span></span>
<span class="line"><span>  手动部署: 审批后部署</span></span>
<span class="line"><span>  用途: 线上用户使用</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>更详细的流程请看：<a href="#_1%E3%80%81%E6%95%8F%E6%8D%B7%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B">敏捷开发流程</a></strong></p><h2 id="实际开发流程示例" tabindex="-1"><a class="header-anchor" href="#实际开发流程示例"><span>实际开发流程示例</span></a></h2><p>背景：你是一名新入职的开发，你有一个开发聊天机器人功能的任务。</p><h3 id="第1步-准备开发环境" tabindex="-1"><a class="header-anchor" href="#第1步-准备开发环境"><span>第1步：准备开发环境</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 默认克隆的是远程的默认分支（通常是 main）,但远程的 develop 分支信息也已经下载了</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> clone</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://github.com/company/project.git</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> project</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#切换到develop分支</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> checkout</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> develop</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#从远程仓库拉取最新的develop分支的代码</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pull</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> origin</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> develop</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#创建并并切换到你的功能分支    -b:创建并切换</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> checkout</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> feature/chatbot</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>此时分支情况如下:</p><p>​ [main] --- [develop] --- [feature/chatbot]</p><p><strong>为什么要新建一个分支？</strong></p><p>因为你要开发新功能，而代码还不稳定，所以不能直接在<code>main</code>或<code>develop</code>分支上写代码。</p><h3 id="第2步-开始新功能开发" tabindex="-1"><a class="header-anchor" href="#第2步-开始新功能开发"><span>第2步：开始新功能开发</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># ... 你写了很多代码 ...</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> add</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> commit</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -m</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;feat:完成聊天机器人功能&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># ... 又写了一些 ...</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> add</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> commit</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -m</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;feat:适配多种模型&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="第3步-完成开发-发起合并请求" tabindex="-1"><a class="header-anchor" href="#第3步-完成开发-发起合并请求"><span>第3步：完成开发，发起合并请求</span></a></h3><p>你的功能开发完了，现在需要把它合并到<code>develop</code>分支。</p><p>1、把你的分支推送到远程仓库：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> push</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> origin</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> feature:chatbot</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>2、在GIthub上发起一个Pull Request（PR）：</p><ol><li>访问仓库页面</li><li>点击 &quot;New Pull Request&quot;</li><li>选择： <ul><li>base: <code>develop</code></li><li>compare: <code>feature/chatbot</code></li></ul></li><li>填写 PR 信息：</li></ol><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>## 标题</span></span>
<span class="line"><span>“Feat:新增聊天机器人功能”</span></span>
<span class="line"><span></span></span>
<span class="line"><span>## 变更描述</span></span>
<span class="line"><span>实现机器人聊天功能</span></span>
<span class="line"><span></span></span>
<span class="line"><span>## 相关 Issue</span></span>
<span class="line"><span>Closes #123</span></span>
<span class="line"><span></span></span>
<span class="line"><span>## 变更类型</span></span>
<span class="line"><span>- [x] 新功能</span></span>
<span class="line"><span>- [ ] Bug修复</span></span>
<span class="line"><span>- [ ] 文档更新</span></span>
<span class="line"><span>- [ ] 代码重构</span></span>
<span class="line"><span></span></span>
<span class="line"><span>## 测试说明</span></span>
<span class="line"><span>1. 运行 \`npm test\` 通过</span></span>
<span class="line"><span>2. 手动测试登录流程</span></span>
<span class="line"><span>3. 集成测试覆盖率达到 85%</span></span>
<span class="line"><span></span></span>
<span class="line"><span>## 截图</span></span>
<span class="line"><span>![机器人聊天页面](https://example.com/screenshot.png)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>## 检查清单</span></span>
<span class="line"><span>- [x] 代码遵循项目规范</span></span>
<span class="line"><span>- [x] 添加/更新了测试</span></span>
<span class="line"><span>- [x] 文档已更新</span></span>
<span class="line"><span>- [x] 没有引入新的警告</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="第4步-代码审查" tabindex="-1"><a class="header-anchor" href="#第4步-代码审查"><span>第4步：代码审查</span></a></h3><h3 id="第5步-合并到开发分支" tabindex="-1"><a class="header-anchor" href="#第5步-合并到开发分支"><span>第5步：合并到开发分支</span></a></h3><p>审查通过后，在PR界面点击<code>Merge Pull Request</code>按钮。</p><p>你的代码就正式合并到了<code>develop</code>分支了!</p><p>此时分支结构：</p><p>[main] --- [develop]（现在包含了机器人聊天功能）--- [feature/xxx]（其他开发人员的分支）</p><p><strong>后续流程</strong>：</p><ul><li>develop分支——&gt;集成测试环境</li><li>运维人员会将develop分支的代码部署到测试服务器。</li><li>测试人员在测试环境测试你的机器人聊天功能。</li></ul><h2 id="常用命令" tabindex="-1"><a class="header-anchor" href="#常用命令"><span>常用命令</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> branch</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -a</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="小疑问" tabindex="-1"><a class="header-anchor" href="#小疑问"><span>小疑问</span></a></h2><h4 id="_1、敏捷开发流程" tabindex="-1"><a class="header-anchor" href="#_1、敏捷开发流程"><span>1、敏捷开发流程</span></a></h4><p><strong>案例：电商网站迭代发布</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>## 迭代计划：双十一促销功能</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### 开发阶段（2周）</span></span>
<span class="line"><span>- 功能A：预售定金支付（feature/advance-payment）</span></span>
<span class="line"><span>- 功能B：优惠券叠加计算（feature/coupon-stack）</span></span>
<span class="line"><span>- 功能C：库存预警系统（feature/stock-alert）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### 代码冻结日（周四）</span></span>
<span class="line"><span>✅ 已完成：</span></span>
<span class="line"><span>- 三个功能都已合并到develop</span></span>
<span class="line"><span>- 基础测试通过</span></span>
<span class="line"><span>- 产品初步验收</span></span>
<span class="line"><span></span></span>
<span class="line"><span>🚫 停止接收：</span></span>
<span class="line"><span>- 新的促销功能需求</span></span>
<span class="line"><span>- 页面样式优化</span></span>
<span class="line"><span>- 性能优化建议</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### 冻结后工作（2天）</span></span>
<span class="line"><span>1. **集成测试**：三个功能一起测试</span></span>
<span class="line"><span>2. **压力测试**：模拟双十一流量</span></span>
<span class="line"><span>3. **安全测试**：支付安全审查</span></span>
<span class="line"><span>4. **Bug修复**：只修复关键问题</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### 发布日（周六）</span></span>
<span class="line"><span>- 早上：最后一次全量测试</span></span>
<span class="line"><span>- 下午：合并release到main，打标签v2.5.0</span></span>
<span class="line"><span>- 晚上：灰度发布，监控指标</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 第1天：迭代开始</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 从上一个版本的tag创建新迭代分支</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> checkout</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> iteration/2024-sprint-1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> v1.2.0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 第1-9天：日常开发</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> checkout</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> develop</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> checkout</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> feature/xxx</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 开发、提交、推送、PR、合并到develop</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 第10天：代码冻结，创建release分支</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> checkout</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> develop</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#新建并切换到release分支，release分支与develop内容相同</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> checkout</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> release/v1.3.0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> push</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -u</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> origin</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> release/v1.3.0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 第11-12天：测试和修复</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 只在release分支修复bug，不添加新功能</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> checkout</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> release/v1.3.0</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 修复bug，提交</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> commit</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -m</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;fix: 修复登录页面样式问题&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 第13天：发布准备</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> checkout</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> main</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> merge</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --no-ff</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> release/v1.3.0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tag</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> v1.3.0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -m</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Release version 1.3.0&quot;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> push</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> origin</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> main</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --tags</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 同步回develop</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> checkout</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> develop</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> merge</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --no-ff</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> release/v1.3.0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> push</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> origin</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> develop</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 清理</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> branch</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> release/v1.3.0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> push</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> origin</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --delete</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> release/v1.3.0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>main (生产)           ← 稳定版本，打标签 v1.0, v1.1, v1.2</span></span>
<span class="line"><span>├─ release/v1.3       ← 当前迭代发布分支（代码冻结后创建）</span></span>
<span class="line"><span>├─ develop            ← 日常开发集成</span></span>
<span class="line"><span>│  ├─ feature/login   ← 功能分支A</span></span>
<span class="line"><span>│  ├─ feature/payment ← 功能分支B</span></span>
<span class="line"><span>│  └─ feature/api     ← 功能分支C</span></span>
<span class="line"><span>└─ hotfix/urgent      ← 紧急修复（如果有）</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>版本冻结后的具体操作</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>周一至周五（第一周）：开发新功能</span></span>
<span class="line"><span>周六至周日：休息</span></span>
<span class="line"><span>周一至周三（第二周）：继续开发</span></span>
<span class="line"><span>周四：代码冻结日 ⭐</span></span>
<span class="line"><span>周四至周五：测试和修复</span></span>
<span class="line"><span>周五下午：发布</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>冻结当天的操作</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span># 1. 早上10点：宣布代码冻结</span></span>
<span class="line"><span># 通知所有人：不再接受新功能PR</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 2. 从develop创建release分支</span></span>
<span class="line"><span>git checkout develop</span></span>
<span class="line"><span>git pull origin develop</span></span>
<span class="line"><span>git checkout -b release/v1.3.0</span></span>
<span class="line"><span>git push -u origin release/v1.3.0</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 3. 配置CI/CD：只允许release分支部署到测试环境</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 4. 更新项目状态：所有新功能PR标记为&quot;下个迭代&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2、如果出问题了怎么办" tabindex="-1"><a class="header-anchor" href="#_2、如果出问题了怎么办"><span>2、如果出问题了怎么办？</span></a></h4><p>如果发布后发现问题</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span># 1. 立即回滚到上一个标签</span></span>
<span class="line"><span>git checkout main</span></span>
<span class="line"><span>git reset --hard v1.1.0</span></span>
<span class="line"><span>git push origin main --force</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 2. 通知团队</span></span>
<span class="line"><span># 3. 创建 hotfix 分支修复问题</span></span>
<span class="line"><span>git checkout main</span></span>
<span class="line"><span>git checkout -b hotfix/critical-issue</span></span>
<span class="line"><span># ... 修复 ...</span></span>
<span class="line"><span>git checkout main</span></span>
<span class="line"><span>git merge --no-ff hotfix/critical-issue</span></span>
<span class="line"><span>git tag v1.2.1</span></span>
<span class="line"><span>git push origin main --tags</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 4. 同步到 develop</span></span>
<span class="line"><span>git checkout develop</span></span>
<span class="line"><span>git merge --no-ff hotfix/critical-issue</span></span>
<span class="line"><span>git push origin develop</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3、为什么要冻结" tabindex="-1"><a class="header-anchor" href="#_3、为什么要冻结"><span>3、为什么要冻结？</span></a></h4><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span># 假设一个2周迭代：</span></span>
<span class="line"><span>第1-9天：疯狂开发，添加各种功能</span></span>
<span class="line"><span>第10天：代码冻结 ← 从这里开始</span></span>
<span class="line"><span>第10-12天：只修复bug，让版本稳定</span></span>
<span class="line"><span>第13天：发布</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>没有冻结会怎样？</strong></p><ul><li>永远在加新功能，永远发布不了</li><li>新功能引入新bug，恶性循环</li><li>测试永远跟不上开发节奏</li></ul><p>心理学原理：功能膨胀</p><ul><li>开发：&quot;这个bug很容易修复&quot;</li><li>产品：&quot;顺便加个小功能吧&quot;</li><li>测试：&quot;这又是什么？没测试过&quot;</li><li>结果：发布时间推迟，质量下降</li></ul><h4 id="" tabindex="-1"><a class="header-anchor" href="#"><span></span></a></h4>`,56)])])}const h=i(l,[["render",p]]),r=JSON.parse('{"path":"/note/computer/git/git-procedure.html","title":"Git的基本使用","lang":"zh-CN","frontmatter":{"title":"Git的基本使用","category":["Git"],"date":"2025-12-20T00:00:00.000Z","pageInfo":["author","Word","readingTime","date","Category","Tag"],"description":"相关信息 🎯 核心原则 主分支保护：main/develop 分支只接受 Pull Request 功能隔离：每个功能/修复都在独立分支开发 代码审查：所有变更必须经过 peer review 持续集成：自动运行测试和检查 清晰历史：保持提交历史的可读性和可追溯性 整体架构 分支结构 完整流程： 环境与分支的对应关系： 更详细的流程请看：敏捷开发流程...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Git的基本使用\\",\\"image\\":[\\"https://example.com/screenshot.png\\"],\\"datePublished\\":\\"2025-12-20T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"马里凡\\",\\"url\\":\\"https://mister-hope.com\\"}]}"],["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/note/computer/git/git-procedure.html"}],["meta",{"property":"og:site_name","content":"马里凡"}],["meta",{"property":"og:title","content":"Git的基本使用"}],["meta",{"property":"og:description","content":"相关信息 🎯 核心原则 主分支保护：main/develop 分支只接受 Pull Request 功能隔离：每个功能/修复都在独立分支开发 代码审查：所有变更必须经过 peer review 持续集成：自动运行测试和检查 清晰历史：保持提交历史的可读性和可追溯性 整体架构 分支结构 完整流程： 环境与分支的对应关系： 更详细的流程请看：敏捷开发流程..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://example.com/screenshot.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:published_time","content":"2025-12-20T00:00:00.000Z"}]]},"git":{},"readingTime":{"minutes":6.21,"words":1864},"filePathRelative":"note/computer/git/git-procedure.md","excerpt":"<div class=\\"hint-container info\\">\\n<p class=\\"hint-container-title\\">相关信息</p>\\n<h2>🎯 核心原则</h2>\\n<ol>\\n<li><strong>主分支保护</strong>：<code>main</code>/<code>develop</code> 分支只接受 Pull Request</li>\\n<li><strong>功能隔离</strong>：每个功能/修复都在独立分支开发</li>\\n<li><strong>代码审查</strong>：所有变更必须经过 peer review</li>\\n<li><strong>持续集成</strong>：自动运行测试和检查</li>\\n<li><strong>清晰历史</strong>：保持提交历史的可读性和可追溯性</li>\\n</ol>\\n</div>","autoDesc":true}');export{h as comp,r as data};
